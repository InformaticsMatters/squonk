---

# Squonk Ansible parameter adjustments for...
# MiniShift

oc_master_hostname: "{{ ansible_env.IM_MASTER_HOSTNAME }}"
oc_master_port: 8443
oc_routes_basename: "{{ oc_master_hostname }}.nip.io"

keycloak_server_protocol: http
keycloak_insecure_route: Allow

oc_infra_backup_hourly_count: 0
oc_infra_backup_daily_count: 0

oc_squonk_volume_type: minishift
oc_infra_volume_type: minishift
oc_cc_infra_volume_type: minishift

oc_postgresql_volume_size: 10Gi
oc_cc_postgresql_volume_size: 10Gi

image_pull_policy: Always

oc_infra_project: squonk-infra
oc_infra_project_display_name: Squonk Infrastructure

# -----------------------------------------------------------------------------
# Parameter adjustments to 'squeeze' Squonk into a small MiniShift instance
# (i.e. something like 4 cores and 8Gi RAM)...
# -----------------------------------------------------------------------------

# Reduced infrastructure CPU/Mem requests
oc_infra_postgresql_cpu_request: 100m
oc_infra_postgresql_mem_request: 100Mi
oc_infra_keycloak_cpu_request: 100m
oc_infra_keycloak_mem_request: 100Mi
oc_infra_keycloak_java_tool_options: -Xmx80m
oc_infra_rabbitmq_cpu_request: 100m
oc_infra_rabbitmq_mem_request: 100Mi

# Reduced Squonk CPU/Mem requests
oc_squonk_cell_cpu_request: 100m
oc_squonk_cell_mem_request: 100Mi
oc_squonk_cell_java_tool_options: -Xmx80m
oc_squonk_chem_cpu_request: 100m
oc_squonk_chem_mem_request: 100Mi
oc_squonk_chem_java_tool_options: -Xmx80m
oc_squonk_core_cpu_request: 100m
oc_squonk_core_mem_request: 100Mi
oc_squonk_core_java_tool_options: -Xmx80m
oc_squonk_je_cpu_request: 100m
oc_squonk_je_mem_request: 100Mi
oc_squonk_je_java_tool_options: -Xmx80m
oc_squonk_portal_cpu_request: 100m
oc_squonk_portal_mem_request: 100Mi

# Reduced ChemCentral Search CPU/Mem requests
oc_cc_postgresql_cpu_request: 100m
oc_cc_postgresql_mem_request: 100Mi
oc_cc_search_cpu_request: 100m
oc_cc_search_mem_request: 100Mi
oc_cc_loader_cpu_request: 100m
oc_cc_loader_mem_request: 100Mi
